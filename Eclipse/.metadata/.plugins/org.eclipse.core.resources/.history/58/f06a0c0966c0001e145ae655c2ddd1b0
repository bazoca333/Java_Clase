import java.sql.Connection;
import java.time.LocalDate;
import java.util.Scanner;

import oracle.sql.DATE;

public class nova_compra {
	private static Connection con = bbdd.conectarBaseDatos();

	
public static void main(String[] args) {
	Scanner scan = new Scanner(System.in);
	int numClient = 0;
    LocalDate fechaActual = LocalDate.now();
    System.out.println(fechaActual);
	

	while (bbdd.userEncontrado == false) {
		System.out.println("Porfavor, introduzca su código de cliente");
		numClient = scan.nextInt();
		String[] a = {"Nom", "Cognoms"};
	    bbdd.print(con, "SELECT nom, cognoms FROM PRFIN_CLIENT where numcli = " + numClient, a);

	}
	CrearTiquet(numClient);
	
 
	 
	

}
private static void mostrarMenu() {
	System.out.println("MENÚ");
	System.out.println("1. Nova compra  ");
	System.out.println("2. Devolució d’una compra ");
	System.out.println("3. Consulta de punts");	
	System.out.println("4. Consultar d’historial de compres");
	System.out.println("5. Sortir ");
}
private static void CrearTiquet(int client) {
	String x[] = {"NUMT"};
	 String[] b = bbdd.select(con, "SELECT NUMT FROM PRFIN_TIQUET", x);

	 int numt = Integer.parseInt(b[0]) +1;

	 bbdd.insert(con, "INSERT INTO PRFIN_TIQUET  (\"NUMT\", \"DATAT\", \"CLIENTE\", \"IDE\" , \"IMPORT_TOT\", \"PUNTS_TIQ\" )\n"
	 + "VALUES ("+ numt +" , SYSDATE , " + client + ", 1 ,0, 0 )");
	
}
}
